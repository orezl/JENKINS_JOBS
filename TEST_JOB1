pipeline {
	agent {label 'CentOS8'}

   stages {
   
   stage('Load Workspace') {
			 steps {

	 git branch: 'DevOps', credentialsId: 'b1eeb4a9-3f56-4e31-bbd1-e480ef147e9b', url: 'https://github.com/orezl/DevOpsTest.git'
			}
         }

      stage('Build') {
         steps {

             sh "mvn clean package"
         }

         post {
            success {
               
               archiveArtifacts 'target/*.war'
            }
         }
      }
	  
	     stage('Deploy to Nexus') {
			 steps {

	        sh "mvn deploy"
			}
         }
   }
}
